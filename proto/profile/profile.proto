syntax = "proto3";

package profile;

option go_package = "github.com/MingPV/UserService/proto/profilepb";

import "google/protobuf/timestamp.proto";

message Profile {
  string user_id = 1;
  string display_name = 2;
  string description = 3;
  int32 age = 4;
  string university = 5;
  int32 year = 6;
  bool is_graduated = 7;
  string profile_url = 8;
  string background_url = 9;
  string location = 10;
  string country = 11;
  google.protobuf.Timestamp created_at = 12;
  google.protobuf.Timestamp updated_at = 13;
}

message CreateProfileRequest {
  string user_id = 1;
  string display_name = 2;
  string description = 3;
  int32 age = 4;
  string university = 5;
  int32 year = 6;
  bool is_graduated = 7;
  string profile_url = 8;
  string background_url = 9;
  string location = 10;
  string country = 11;
}

message CreateProfileResponse {
  Profile profile = 1;
}

message FindProfileByIDRequest {
  string user_id = 1;
}

message FindProfileByIDResponse {
  Profile profile = 1;
}

message FindAllProfilesRequest {}

message FindAllProfilesResponse {
  repeated Profile profiles = 1;
}

message PatchProfileRequest {
  string user_id = 1;
  string display_name = 2;
  string description = 3;
  int32 age = 4;
  string university = 5;
  int32 year = 6;
  bool is_graduated = 7;
  string profile_url = 8;
  string background_url = 9;
  string location = 10;
  string country = 11;
}

message PatchProfileResponse {
  Profile profile = 1;
}

message DeleteProfileRequest {
  string user_id = 1;
}

message DeleteProfileResponse {
  string message = 1;
}

service ProfileService {
  rpc CreateProfile(CreateProfileRequest) returns (CreateProfileResponse);
  rpc FindProfileByID(FindProfileByIDRequest) returns (FindProfileByIDResponse);
  rpc FindAllProfiles(FindAllProfilesRequest) returns (FindAllProfilesResponse);
  rpc PatchProfile(PatchProfileRequest) returns (PatchProfileResponse);
  rpc DeleteProfile(DeleteProfileRequest) returns (DeleteProfileResponse);
}
